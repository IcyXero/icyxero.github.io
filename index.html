<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>IcyXero | Web Developer Portfolio</title>
  <meta name="description" content="Minimal portfolio for IcyXero — web developer from Brooklyn, NY. Copying or stealing this portfolio template without permission is strictly forbidden.">
  <link rel="icon" type="image/png" href="favicon.png">
  <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css?v=20250822">
</head>
<body>
  <!-- Matrix Canvas Background -->
  <canvas id="matrix-bg"></canvas>
  <div class="center-wrapper">
    <main>
      <section class="intro">
        <a href="https://icyxero.github.io" class="site-logo-link" title="Visit icyxero.github.io">
          <img src="logo.png" alt="IcyXero Logo" class="site-logo">
        </a>
        <h1>IcyXero</h1>
        <p class="bio">
          Web developer from Brooklyn, NY.<br>
          Skilled in HTML, CSS, JavaScript, PHP, Python, and MySQL.<br>
          Always learning and building creative solutions.<br>
          Gamer at heart.
        </p>
        <p class="copyright-warning">
          <strong>Notice:</strong> Copying or stealing this portfolio template without permission is <u>strictly forbidden</u>.
        </p>
      </section>
      <section class="stack">
        <h2>Tech Stack</h2>
        <ul>
          <li><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/html5/html5-original.svg" alt="HTML5"></li>
          <li><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/css3/css3-original.svg" alt="CSS3"></li>
          <li><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg" alt="JavaScript"></li>
          <li><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/php/php-original.svg" alt="PHP"></li>
          <li><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg" alt="Python"></li>
          <li><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/mysql/mysql-original.svg" alt="MySQL"></li>
        </ul>
      </section>
      <section class="projects">
        <h2>Projects</h2>
        <p class="coming-soon">Coming soon!</p>
      </section>
      <section class="contact">
        <h2>Contact</h2>
        <div class="contact-links">
          <a href="mailto:icyxerodev@gmail.com">icyxerodev@gmail.com</a><br>
          <a href="https://twitter.com/IcyXero" target="_blank">@IcyXero on Twitter</a> |
          <a href="https://instagram.com/icyxero" target="_blank">@icyxero on Instagram</a>
        </div>
      </section>
      <section class="socials">
        <h2>Socials</h2>
        <div class="social-icons">
          <a href="https://twitter.com/IcyXero" target="_blank" rel="noopener" aria-label="Twitter" class="icon twitter" title="Twitter">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/twitter/twitter-original.svg" alt="Twitter">
          </a>
          <a href="https://instagram.com/icyxero" target="_blank" rel="noopener" aria-label="Instagram" class="icon instagram" title="Instagram">
            <img src="https://cdn.jsdelivr.net/npm/simple-icons@v11/icons/instagram.svg" alt="Instagram">
          </a>
          <a href="mailto:icyxerodev@gmail.com" target="_blank" rel="noopener" aria-label="Email" class="icon email" title="Email">
            <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/google/google-original.svg" alt="Email">
          </a>
        </div>
      </section>
    </main>
  </div>
  <button id="theme-toggle" aria-label="Toggle dark/light mode" data-tooltip="Dark Mode">🌙</button>
  <div id="theme-picker" class="theme-picker">
    <label for="theme-select">🎨 Theme:</label>
    <select id="theme-select" aria-label="Theme picker">
      <option value="default">Default</option>
      <option value="ocean">Ocean</option>
      <option value="sunset">Sunset</option>
      <option value="forest">Forest</option>
      <option value="mono">Mono</option>
    </select>
  </div>
  <div id="theme-tooltip" class="theme-tooltip" style="display:none;"></div>
  <script>
    // Theme toggling and picker
    const btn = document.getElementById('theme-toggle');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const userTheme = localStorage.getItem('theme');
    const themeTooltip = document.getElementById('theme-tooltip');
    let currentTheme = userTheme || (prefersDark ? 'dark' : 'light');

    function setTheme(theme) {
      document.documentElement.setAttribute('data-theme', theme);
      currentTheme = theme;
      btn.textContent = theme === 'dark' ? '🌙' : '☀️';
      btn.setAttribute('data-tooltip', theme === 'dark' ? 'Light Mode' : 'Dark Mode');
      localStorage.setItem('theme', theme);
    }
    function toggleTheme() {
      const current = document.documentElement.getAttribute('data-theme');
      setTheme(current === 'dark' ? 'light' : 'dark');
    }
    btn.addEventListener('click', toggleTheme);

    // Show tooltip on hover
    btn.addEventListener('mouseenter', function(e) {
      const mode = document.documentElement.getAttribute('data-theme') === 'dark' ? 'Light Mode' : 'Dark Mode';
      themeTooltip.textContent = mode;
      themeTooltip.style.display = 'block';
      const rect = btn.getBoundingClientRect();
      themeTooltip.style.left = `${rect.left + rect.width / 2 - 40}px`;
      themeTooltip.style.top = `${rect.bottom + 6}px`;
    });
    btn.addEventListener('mouseleave', function() {
      themeTooltip.style.display = 'none';
    });

    // Set initial theme
    if (userTheme) {
      setTheme(userTheme);
    } else {
      setTheme(prefersDark ? 'dark' : 'light');
    }

    // Theme/color picker (bottom right)
    const themePicker = document.getElementById('theme-picker');
    const themeSelect = document.getElementById('theme-select');
    const savedFlatTheme = localStorage.getItem('flatTheme');
    function setFlatTheme(t) {
      if (t === 'default') {
        document.body.removeAttribute('data-flat-theme');
        localStorage.removeItem('flatTheme');
      } else {
        document.body.setAttribute('data-flat-theme', t);
        localStorage.setItem('flatTheme', t);
      }
      updateThemeForCard();
    }
    if (savedFlatTheme && savedFlatTheme !== 'default') {
      setFlatTheme(savedFlatTheme);
      themeSelect.value = savedFlatTheme;
    }
    themeSelect.addEventListener('change', function() {
      setFlatTheme(themeSelect.value);
    });

    // Card layout changes by theme
    function updateThemeForCard() {
      const main = document.querySelector('main');
      main.classList.remove(
        'theme-default', 'theme-ocean', 'theme-sunset', 'theme-forest', 'theme-mono'
      );
      let flat = document.body.getAttribute('data-flat-theme') || 'default';
      main.classList.add('theme-' + flat);
    }
    // On theme change, update card
    new MutationObserver(updateThemeForCard)
      .observe(document.body, { attributes: true, attributeFilter: ['data-flat-theme'] });
    updateThemeForCard();

    // Matrix background effect
    (() => {
      const canvas = document.getElementById('matrix-bg');
      const ctx = canvas.getContext('2d');
      let width = window.innerWidth;
      let height = window.innerHeight;
      let fontSize = 18;
      let columns = Math.floor(width / fontSize);
      let drops = new Array(columns).fill(1);

      // Character sets per theme
      const matrixThemes = {
        'default':   { color: '#58c4fa', shadow: '#1be7ff', chars: 'アイシゼロ0123456789' },
        'dark':      { color: '#58c4fa', shadow: '#1be7ff', chars: 'アイシゼロ0123456789' },
        'light':     { color: '#1877f2', shadow: '#72bfff', chars: 'IcyXero0123456789' },
        'ocean':     { color: '#00b4d8', shadow: '#48cae4', chars: '水海潮0123456789' },
        'sunset':    { color: '#f67280', shadow: '#f8b195', chars: '夕日サンセット0123456789' },
        'forest':    { color: '#53d769', shadow: '#a7c957', chars: '森林フォレスト0123456789' },
        'mono':      { color: '#bbb', shadow: '#888', chars: '01IcyXero' }
      };

      function getMatrixTheme() {
        const body = document.body;
        const flat = body.getAttribute('data-flat-theme');
        if (flat && matrixThemes[flat]) return matrixThemes[flat];
        const dt = document.documentElement.getAttribute('data-theme');
        if (dt && matrixThemes[dt]) return matrixThemes[dt];
        return matrixThemes['default'];
      }

      function resizeMatrix() {
        width = window.innerWidth;
        height = window.innerHeight;
        canvas.width = width;
        canvas.height = height;
        fontSize = Math.max(13, Math.floor(width / 90));
        columns = Math.floor(width / fontSize);
        drops = new Array(columns).fill(1 + Math.floor(Math.random() * 5));
      }

      function drawMatrix() {
        // Fade the background slowly instead of clearing all at once
        ctx.fillStyle = 'rgba(25,28,32,0.16)';
        ctx.fillRect(0, 0, width, height);

        const theme = getMatrixTheme();
        ctx.font = fontSize + "px 'Rajdhani', monospace";
        ctx.shadowColor = theme.shadow;
        ctx.shadowBlur = 9;
        for (let i = 0; i < columns; i++) {
          const text = theme.chars[Math.floor(Math.random() * theme.chars.length)];
          ctx.fillStyle = theme.color;
          ctx.fillText(text, i * fontSize, drops[i] * fontSize);
          if (Math.random() > 0.962) drops[i] = 0;
          drops[i]++;
          if (drops[i] * fontSize > height && Math.random() > 0.97) drops[i] = 0;
        }
      }

      window.addEventListener('resize', resizeMatrix);
      // Re-render on theme changes
      const observer = new MutationObserver(resizeMatrix);
      observer.observe(document.documentElement, { attributes: true, attributeFilter: ['data-theme'] });
      observer.observe(document.body, { attributes: true, attributeFilter: ['data-flat-theme'] });

      resizeMatrix();
      setInterval(drawMatrix, 61);
    })();

    // Live reload (dev only)
    if (location.hostname === "localhost" || location.hostname === "127.0.0.1") {
      if ('WebSocket' in window) {
        let protocol = location.protocol === 'https:' ? 'wss://' : 'ws://';
        let ws = new WebSocket(protocol + location.host + '/livereload');
        ws.onmessage = function (msg) {
          if (msg.data === 'reload') location.reload();
        };
      }
    }
  </script>
</body>
</html>
